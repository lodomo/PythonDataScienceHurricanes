---
title: "Data Cleaning for Hurricane Dataset"
date: last-modified
author: "Logan MacFarlane and Lorenzo D. Moon"
format: 
    html:
        embed-resources: true
jupyter: python3
---

# Data Cleaning for Hurricane Dataset

## Importing Libraries

```{python}
import pandas as pd
import numpy as np
```

## Loading the Dataset

```{python}
df = pd.read_csv('Atlantic_Hurricanes_1970-2024.csv')


def check_all(df):
    print(df.head())
    print(df.info())
    print(df.describe())
    print(df.isnull().sum())


check_all(df)
```

## Tidying

```{python}
# Convert column names to snake_case
df = df.rename(columns={
    "OBJECTID": "object_id",
    "SID": "sid",
    "BASIN": "basin",
    "SUBBASIN": "sub_basin",
    "NAME": "name",
    "NATURE": "nature",
    "Date": "date",
    "LAT": "latitude",
    "LON": "longitude",
    "USA_WIND": "usa_wind",
    "USA_PRES": "usa_pres",
})

check_all(df)
```

## Treat Missing Values

### Treat Missing Basin Information

```{python}
"""
From Stack overflow I found this code snippet:
https://stackoverflow.com/questions/53233228/plot-latitude-longitude-from-csv-in-python-3-6
# Source - https://stackoverflow.com/a
# Posted by Xiaoyu Lu, modified by community. See post 'Timeline' for change history
# Retrieved 2025-11-13, License - CC BY-SA 4.0

import pandas as pd
from shapely.geometry import Point
import geopandas as gpd
from geopandas import GeoDataFrame
import geodatasets

df = pd.read_csv("Long_Lats.csv", delimiter=',', skiprows=0, low_memory=False)

geometry = [Point(xy) for xy in zip(df['Longitude'], df['Latitude'])]
gdf = GeoDataFrame(df, geometry=geometry)   

#this is a simple map that goes with geopandas
# deprecated: world = gpd.read_file(gpd.datasets.get_path('naturalearth_lowres'))
world = gpd.read_file(geodatasets.data.naturalearth.land['url'])
gdf.plot(ax=world.plot(figsize=(10, 6)), marker='o', color='red', markersize=15);
"""

# Let's see where all our missing data is located
from shapely.geometry import Point
import geopandas as gpd
from geopandas import GeoDataFrame
import geodatasets

missing_basin = df[df['basin'].isnull()]
geometry = [Point(xy) for xy in zip(missing_basin['longitude'], missing_basin['latitude'])]
gdf_missing = GeoDataFrame(missing_basin, geometry=geometry)
world = gpd.read_file(geodatasets.data.naturalearth.land['url'])
gdf_missing.plot(ax=world.plot(figsize=(10, 6)), marker='o', color='red', markersize=15);


check_all(df)
```

## THE LEGEND OF THE MISSING DATA

The missing data was caused by NA being marked in the CSV for "North Atlantic" but was being dropped by pandas as a null value.
I ran a find/replace on the original CSV to replaces all ,NA, instances with ,NAB, and reloaded the data.

There are now no missing basin or sub_basin values.

## Output Cleaned Data
```{python}
df.to_csv('cleaned_hurricane_data.csv')
print("Cleaned data saved to 'cleaned_hurricane_data.csv'")
```
